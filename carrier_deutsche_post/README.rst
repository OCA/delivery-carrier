==============================
Delivery Carrier Deutsche Post
==============================

.. !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
    :target: https://odoo-community.org/page/development-status
    :alt: Beta
.. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
    :alt: License: AGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fodoo--modules-lightgray.png?logo=github
    :target: https://github.com/OCA/odoo-modules/tree/12.0/carrier_deutsche_post
    :alt: OCA/odoo-modules
.. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
    :target: https://translation.odoo-community.org/projects/odoo-modules-12-0/odoo-modules-12-0-carrier_deutsche_post
    :alt: Translate me on Weblate

|badge1| |badge2| |badge3| |badge4| 

This custom module carrier_deutsche_post allows to purchase shipping label from Deutsche Post (German Post) directly in Odoo. Several "products" of Deutsche Post can be configured.

Appropriate delivery orders (in module Warehouse) show a Buy Deutsche Post Label button. When clicking that button, a shipping label from Deutsche Post is bought online. It is presented to the user as PDF and also attached to the delivery order. For international shipments this PDF can contain a 2nd page with an automatic generated CN 22 form. The CN 22 form is filled by carrier_deutsche_post automatically, depending on the products being shipped.

The Buy Deutsche Post Label button is also displayed in Barcode view.

Required settings: Button "Buy Deutsche Post Label" is being invisible when carrier_type field is False. carrier_type is a related field so make sure that you set the Default Carrier in picking and Type in that Carrier (Delivery Method).

To setup carrier accounts go to Inventory -> Configuration -> Carrier Accounts

.. image:: https://raw.githubusercontent.com/OCA/odoo-modules/12.0/carrier_deutsche_post/images/1_carrier_accounts.png

Click on Create to create carrier accounts

.. image:: https://raw.githubusercontent.com/OCA/odoo-modules/12.0/carrier_deutsche_post/images/2_settings_carrier_accounts.png

If you want to edit the delivery methods go to Inventory -> Configuration -> Delivery Methods

.. image:: https://raw.githubusercontent.com/OCA/odoo-modules/12.0/carrier_deutsche_post/images/3_delivery_methods.png

Click on Create to create delivery methods

.. image:: https://raw.githubusercontent.com/OCA/odoo-modules/12.0/carrier_deutsche_post/images/4_settings_delivery_methods.png

To purchase a Deutsche Post label go to Sales -> click on a Sales Order -> Delivery -> Buy Deutsche Post label

.. image:: https://raw.githubusercontent.com/OCA/odoo-modules/12.0/carrier_deutsche_post/images/5_buy_label.png

Bought Deutsche Post labels are attached to delivery orders in tab Additional Info

.. image:: https://raw.githubusercontent.com/OCA/odoo-modules/12.0/carrier_deutsche_post/images/6_attachment.png

PDF label germany

.. image:: https://raw.githubusercontent.com/OCA/odoo-modules/12.0/carrier_deutsche_post/images/7_germany.png

PDF label international

.. image:: https://raw.githubusercontent.com/OCA/odoo-modules/12.0/carrier_deutsche_post/images/8_international.png

**Operations**

The API of Deutsche Post requires to provide prices within requests. Deutsche Post changes their prices every few months. Prices are not gathered dynamically but are hard coded in `inema library <https://pypi.org/project/inema/>`_. Inema supports multiple price lists in parallel but (Python) requires a restart to take those new price lists into account. In consequence, this means for operation:

1. Monitor price changes of Deutsche Post. Usually when being a Portokasse customer, you should receive an email a few weeks in advance with a new price list (CSV) attached.
2. Make sure the new prices are added to inema and that inema version is ideally released. Usually inema's maintainers are helpful in updating those promptly.
3. Update your Odoo system with the required inema version.
4. At the day when new prices come into affect, restart your Odoo system.

If you receive an unknown error, there is a high chance that it's related to an invalid price.

**Table of contents**

.. contents::
   :local:

Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/OCA/odoo-modules/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us smashing it by providing a detailed and welcomed
`feedback <https://github.com/OCA/odoo-modules/issues/new?body=module:%20carrier_deutsche_post%0Aversion:%2012.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
~~~~~~~

* Nitrokey GmbH

Maintainers
~~~~~~~~~~~

This module is maintained by the OCA.

.. image:: https://odoo-community.org/logo.png
   :alt: Odoo Community Association
   :target: https://odoo-community.org

OCA, or the Odoo Community Association, is a nonprofit organization whose
mission is to support the collaborative development of Odoo features and
promote its widespread use.

This module is part of the `OCA/odoo-modules <https://github.com/OCA/odoo-modules/tree/12.0/carrier_deutsche_post>`_ project on GitHub.

You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
