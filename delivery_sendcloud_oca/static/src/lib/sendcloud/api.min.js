/*  */var sendcloud=window.sendcloud||{};sendcloud.servicePoints=(function(){'use strict';var baseDomain='https://servicepoints.sendcloud.sc';var updateBrowserMessage=JSON.parse('{"de-de": "Sie verwenden einen veralteten Browser. Aktualisieren Sie bitte Ihren Browser, um einen Paketshop auszuw\u00e4hlen.", "en-us": "You are using an outdated browser. Please upgrade your browser to select a service point location.", "en-gb": "You are using an outdated browser. Please upgrade your browser to select a service point location.", "es-es": "Est\u00e1s utilizando un navegador obsoleto. Actualiza tu navegador para seleccionar una ubicaci\u00f3n de punto de servicio.", "fr-fr": "Vous utilisez un navigateur obsol\u00e8te. Veuillez mettre \u00e0 jour votre navigateur pour s\u00e9lectionner une zone de Point Service.", "it-it": "Stai utilizzando un browser obsoleto. Aggiorna il tuo browser per selezionare la posizione di un Service Point.", "nl-nl": "Je browser is niet meer up-to-date. Update je internet browser om een afhaalpunt locatie te kunnen kiezen. "}');var iframeDiv=null;var loadingDiv=null;var successCallback=null;var failureCallback=null;function _noop(){}
function _callable(fn){return!fn||typeof fn!=='function'?_noop:fn;}
function serializeParams(obj){var str='';for(var key in obj){if(str!==''){str+='&';}
str+=key+'='+encodeURIComponent(obj[key]);}
return str;}
function removeElement(element){if(element.remove!==undefined){element.remove();}else{element&&element.parentNode&&element.parentNode.removeChild(element);}}
function validateLanguage(language){var allowedLanguages=[];for(var k in updateBrowserMessage){allowedLanguages.push(k);var short=k.replace(/-\w+/,'');if(allowedLanguages.indexOf(short)===-1){allowedLanguages.push(short);}}
return allowedLanguages.indexOf(language)!==-1;}
function validateRequired(value){return(value.length>0&&typeof value==='string')||value instanceof String;}
function validateConfig(config){var errors=[];if(!validateRequired(config.apiKey)){errors.push('Missing API key.');}
if(!validateLanguage(config.language)){errors.push('Invalid language set: '+config.language);}
if(!validateRequired(config.country)){errors.push('No country set.');}
if(errors.length>0){failureCallback(errors);return false;}
return true;}
function open(config,onSuccess,onFailure){successCallback=_callable(onSuccess);failureCallback=_callable(onFailure);if(!validateConfig(config)){return;}
var language=config.language||'en-us';var msie=document.documentMode;if(msie&&msie<=9){var msg=updateBrowserMessage[language];failureCallback([msg]);return;}
var params={'api-key':config.apiKey,country:config.country,'postal-code':config.postalCode||'',carrier:config.carriers||'',id:config.servicePointId||'',weight:config.weight||'',language:language,'close-button':1,'post-number':config.postNumber||''};var url=baseDomain+'/embed/v3/service-point-picker/?'+serializeParams(params);iframeDiv=document.createElement('div');iframeDiv.innerHTML='<iframe src="'+url+'" width="100%" height="100%" id="sendcloudshipping_service_point_map">';iframeDiv.style.cssText='position: fixed; top: 0; left: 0; bottom: 0; right: 0; z-index: 2147483647';loadingDiv=document.createElement('div');loadingDiv.style.cssText='position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 2147483646; background-color: black; opacity: 0.7';document.body.appendChild(iframeDiv);document.body.appendChild(loadingDiv);}
function removeServicePointPicker(){removeElement(iframeDiv);removeElement(loadingDiv);}
function onServicePointSelected(data){successCallback(data.point,data.postNumber||'');removeServicePointPicker();}
function onServicePointClose(){failureCallback(['Closed']);removeServicePointPicker();}
function onWindowMessage(event){var origin=event.origin;var messageData=event.data;if(origin!==baseDomain){return;}
var messageHandlers={servicePointSelected:onServicePointSelected,servicePointClose:onServicePointClose};if(!(messageData.type in messageHandlers)){failureCallback(['Invalid event type']);return;}
var messageFn=messageHandlers[messageData.type];messageFn(messageData);}
window.addEventListener('message',onWindowMessage,false);return{open:open,close:removeServicePointPicker};})();/* */